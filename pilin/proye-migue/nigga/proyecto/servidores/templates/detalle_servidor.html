{% extends 'base.html' %}

{% block title %}Detalles del Servidor{% endblock %}

{% block content %}
  <h2 style="margin-bottom: 20px;">InformaciÃ³n del Servidor: {{ host }}</h2>
  <h2>Levantar Servicio</h2>
  <form method="post" action="{% url 'iniciar_servicio' %}">
    {% csrf_token %}
    <input type="text" name="nombre_servicio" placeholder="Ej: nginx, docker, apache2" required>
    <button type="submit" style="background-color: green; color: white;">ğŸ”Œ Levantar</button>
  </form>
  <h2 style="margin-top: 40px;">Servicios Activos</h2>
  {% if servicios_activos %}
    <ul>
      {% for servicio in servicios_activos %}
        <li style="margin-bottom: 10px;">
          <strong>{{ servicio }}</strong>
          <form method="post" action="{% url 'accion_servicio' %}" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="nombre_servicio" value="{{ servicio }}">
            <button name="accion" value="reiniciar" style="color: orange;">ğŸ” Reiniciar</button>
            <button name="accion" value="detener" style="color: red;">â›” Detener</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No hay servicios activos.</p>
  {% endif %}

  <pre style="
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    font-family: monospace;
    font-size: 14px;
    white-space: pre-wrap;
    line-height: 1.5;
  ">{{ info }}</pre>

  <a href="{% url 'dashboard' %}" style="
    display: inline-block;
    margin-top: 20px;
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border-radius: 5px;
    text-decoration: none;
  ">â¬… Volver al Dashboard</a>
{% endblock %}

